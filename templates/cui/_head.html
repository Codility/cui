{% comment %}

    Copyright (C) 2014 Codility Limited. <https://codility.com>

    This file is part of Candidate User Interface (CUI).

    CUI is free software: you can redistribute it and/or modify
    it under the terms of the GNU Lesser General Public License as published
    by the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version accepted in a public statement
    by Codility Limited.

    CUI is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public License
    along with CUI.  If not, see <http://www.gnu.org/licenses/>.

{% endcomment %}

{% load compress %}

{% comment %}

  This is the <head> part of candidate UI.

  Static assets have to either be in a {% compress %} block, or
  include ?{{ VERSION }} (for cache busting).

{% endcomment %}

<meta http-equiv="Content-type" content="text/html;charset=UTF-8" />
<meta charset="utf-8">
<title>{{ title|default:"Codility" }}</title>
<link rel="shortcut icon" href="{{ STATIC_URL }}cui/img/favicon{% if DEBUG %}_debug{% endif %}.ico">

{# CSS #}

{% compress css %}
  <link rel="stylesheet" href="{{ STATIC_URL }}cui/vendor/normalize.css"/>
  <link rel="stylesheet" href="{{ STATIC_URL }}cui/css/cui.scss" type="text/x-scss"/>
  <link rel="stylesheet" href="{{ STATIC_URL }}cui/vendor/jquery/jquery.jqModal.css"/>
{% endcompress %}
{% if in_test %}
  <link rel="stylesheet" href="{{STATIC_URL}}cui/vendor/jasmine-2.0.0/jasmine.css?{{ VERSION }}" />
{% endif %}


{# Vendor JS #}

{% compress js %}
  <script src="{{ STATIC_URL }}cui/vendor/jquery/jquery-1.10.2.js"></script>
  <script src="{{ STATIC_URL }}cui/vendor/jquery/jquery-migrate-1.2.1.js"></script>

  <script src="{{ STATIC_URL }}cui/vendor/jquery/jquery.jqModal.js"></script>

  <script src="{{ STATIC_URL }}cui/vendor/webfont/webfont.js"></script>
{% endcompress %}

{# WARNING: Ace has to remain outside compress, because it depends on the file path. #}
<script src="{{ STATIC_URL }}cui/vendor/ace-src-noconflict/ace.js?{{ VERSION }}"></script>
<script src="{{ STATIC_URL }}cui/vendor/ace-src-noconflict/ext-language_tools.js?{{ VERSION }}"></script>


{# Codility JS #}

{% compress js %}
  <script src="{{STATIC_URL}}cui/js/console.js"></script>
  <script src="{{STATIC_URL}}cui/js/diff.js"></script>
  <script src="{{STATIC_URL}}cui/js/testcases.js"></script>
  <script src="{{STATIC_URL}}cui/js/help.js"></script>
  <script src="{{STATIC_URL}}cui/js/editor.js"></script>
  <script src="{{STATIC_URL}}cui/js/candidate_ui.js"></script>
  <script src="{{STATIC_URL}}cui/js/clock.js"></script>
  <script src="{{STATIC_URL}}cui/js/tracker.js"></script>
  <script src="{{STATIC_URL}}cui/js/utils.js"></script>
  <script src="{{STATIC_URL}}cui/js/survey.js"></script>
  <script src="{{STATIC_URL}}cui/js/diff_engine.js"></script>

  <script src="{{STATIC_URL}}cui/js/test-server.js"></script>
  <script src="{{STATIC_URL}}cui/js/local-server.js"></script>
{% endcompress %}


{# Tests #}

{% if in_test %}
  <script src="{{STATIC_URL}}cui/vendor/jasmine-2.0.0/jasmine.js?{{ VERSION }}"></script>
  <script src="{{STATIC_URL}}cui/vendor/jasmine-2.0.0/jasmine-html.js?{{ VERSION }}"></script>
  <script src="{{STATIC_URL}}cui/vendor/jasmine-2.0.0/boot.js?{{ VERSION }}"></script>

  <script src="{{STATIC_URL}}cui/vendor/sinon/sinon-1.10.2.js?{{ VERSION }}"></script>

  <script src="{{STATIC_URL}}cui/js/tests.js?{{ VERSION }}"></script>
{% endif %}


{# Local server #}

{% if in_local %}
  <script src="{{STATIC_URL}}cui/vendor/sinon/sinon-1.10.2.js?{{ VERSION }}"></script>
{% endif %}


{# Fonts #}

{% if ALLOW_EXTERNAL_CONTENT %}
  <script>
    WebFont.load({
        google: {
            families: ['Droid Sans Mono']
        }
    });
  </script>
{% endif %}


{# Development version of the logging code #}

{% if in_devel %}
  <script src="{{ STATIC_URL }}cui/js/devel-log.js"></script>
  <script>
    var Log = DevelLog;
  </script>
{% endif %}
